
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <!--  <meta http-equiv="Access-Control-Allow-Origin" content="*" />-->
    <title>白管の刷步数工具</title>
    <link rel="shortcut icon" href="style/images/img/favicon.ico" />
    <link rel="stylesheet" href="style/js/ys.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="style/js/yangshi.js"></script>
    <script src="style/js/pf.js"></script>
</head>
<body>
<!--   不开js提示-->
<noscript>
    <marquee behavior='alternate' scrollamount="10" >
        <b><h1 style="width: 100%;height: 100%;color: white;margin:25% 0%">请您开启浏览器的Javascript插件</h1></b>
    </marquee>
</noscript>
<div  id="app" style="display:none;text-align:center;margin:10% 0% ;border-width:1px;border-style:solid;border-color:rgb(2, 204, 245);background-color:#79918e6b;border-radius:20px;">
   <!-- <div style="margin:0 auto ;border: aquamarine 2px solid;width:80%;">-->
        <br>
        <br>
        <input type="text" placeholder="小米运动账号" id="mobile" style="width: 40%;height: 35px;" value="">
    <br>
    <br>
        <input type="password" placeholder="小米运动密码" id="password" style="width: 40%;height: 35px;" value="">
    <br>
    <br>
        <input type="number" placeholder="步数，最高98800" id="count" style="width: 40%;height: 35px;" value="">
    <br>
    <br>
        <button  type="button" class="btn btn-success" style="width: 20%;" @click="submit()">提交</button>
        <button  type="button" class="btn btn-danger" style="width: 20%;" @click="qk()" >清空</button>
        <br>
        <br>
        <h4 id="a"  style="color: red">{{message}}</h4>
        <h4 id="b"  style="color: red">{{message}}</h4>
        <h4 id="c"  style="color: red">{{message}}</h4>
    <br>
    <br>
    <h4 style="color:#fff;">本站已安全运行:<span id="momk"></span></h4>
</div>
<!--        漂浮广告-->
<div id="imgDiv" style="width:50px;height:50px;color: #fff;border: 0px solid red"></div>
</body>
<script type="text/javascript" color="255,255,255" opacity='0.7' zIndex="-2" count="200" src="style/js/canvas-nest.min.js"></script>
<script>
    var sp = null;
    new Vue({
        el: '#app',
        data: {
            message: '请先填写以上必填项！！！',
        },
        methods: {
            submit()  {

                //获取 文本框内容
                var  mobile  = $("#mobile").val();
                var  password  = $("#password").val();
                var  count  = $("#count").val();
                var myreg = /^(((13[0-9]{1})|(14[0-9]{1})|(17[0]{1})|(15[0-3]{1})|(15[5-9]{1})|(18[0-9]{1}))+\d{8})$/;
                if ( mobile== ""&& password== "" && count== "") {
                    this.message = "请填写完整！！";
                    return;
                }
                if (mobile.length != 11){
                    this.message = "手机号不完整！！";
                    return;
                }else  if (!myreg.test(mobile)){
                    this.message = "请输入有效的手机号码！！";
                    return;
                }
                //清空并隐藏之前的错误提示
                this.message = "";
                $("#b").text('');
                $("#c").text('');
                $.ajax({
                    type: "get",
                    url: ' http://shuabu.net/api/mi/submit',
                    dataType: 'json',
                    data: {"mobile":mobile,"password":password,"count":count},
                    success: function(data) {
                        console.log(data);
                        return;
                        if (data.success == "false"){
                            $("#a").text('服务器繁忙!!!!');
                        }else {
                            $("#a").text('服务器繁忙，请稍后再试!!!!');
                        }
                        console.log("1111"+JSON.stringify(data));


                    },
                    error: function (e) {
                        $("#a").text('接口待接入!!!!');
                        console.log("22222222"+JSON.stringify(e));
                    }
                });
        },
            qk(){
                $("#mobile").val(""); //清空输入框
                $("#password").val(""); //清空输入框
                $("#count").val(""); //清空输入框
            }


            }

    });

</script>

</html>
